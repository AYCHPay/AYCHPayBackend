{{ define "newTable" }}
	<style>
		th {
			cursor:move;
		}
	</style>
	
	<script>
		$(".aside .nav li").removeClass("active");
		$(".citizen, .citizen_form").addClass("active");
		
		$.fn.editable.defaults.mode = 'inline';
		$.fn.editableform.buttons =
		  '<button type="submit" class="btn btn-primary btn-sm editable-submit">'+
			'<i class="fa fa-fw fa-check"></i>'+
		  '</button>'+
		  '<button type="button" class="btn btn-default btn-sm editable-cancel">'+
			'<i class="fa fa-fw fa-times"></i>'+
		  '</button>';
		
		var table = $("#table");
		var el = $("#table tr");
		var table_init;
		
		$("#add").on('click', function(){
			$("body").click();
			table_init.destroy();
			el.each(function() {
				var col = $(this).find("th:last, td:last").clone();
				$(this).append(col);
			});
			InitTable();
		})
		$("#remove").on('click', function(){
			table_init.destroy();
			el.each(function() {
				var col = $(this).children("th, td").length;
				if (col > 1) {
					$(this).find("th:last, td:last").remove();
				} else {
					return false;
				}
			});
			InitTable();
		})
		
		function InitTable() {
			table_init = table.DataTable({
				destroy: true,
				colReorder: true,
				paging:   false,
				ordering: false,
				searching: false,
				info:     false
			});
			$(".edit").editable({
				type: 'text'
			})
		}
		
		InitTable();
	</script>
	
	<div class="content-heading">
		citizen_form
	</div>
	<ol class="breadcrumb">
	   <li><a href="#">Dashboard</a></li>
	   <li class="active">citizen_form</li>
	</ol>
	<!-- START panel-->
	<div class="panel panel-default">
	 <div class="panel-heading">
	 	<div class="panel-title">
			Table name <input type="text" value="">
		</div>
	 </div>
	 <div class="panel-body">


		 <div class="table-responsive">
		   <table id="table" class="table table-striped table-bordered table-hover">
			  <tbody>
				 <tr>
					<td><input type="text" value="colname1"><button type="button" id="remove" class="btn btn-primary">(-)</button></td>
				 </tr>
			  </tbody>
		   </table>
			 <button type="button" id="add" class="btn btn-primary">+</button>
		</div>
	 </div>
	 <div class="panel-footer">
	   <div class="clearfix">
		  <div class="pull-left">

		  </div>
		  <div class="pull-left">
			 <button type="button" class="btn btn-primary">Send</button>
		  </div>
	   </div>
	  </div>
	</div>
	<!-- END panel-->
{{end}}