<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
   <meta name="description" content="">
   <meta name="keywords" content="">
   <title>DayLight</title>
   <link rel="shortcut icon" href="static/img/favicon.ico" type="image/x-icon">
   <!-- =============== VENDOR STYLES ===============-->
   <!-- FONT AWESOME-->
   <link rel="stylesheet" href="static/vendor/fontawesome/css/font-awesome.min.css">
   <!-- SIMPLE LINE ICONS-->
   <link rel="stylesheet" href="static/vendor/simple-line-icons/css/simple-line-icons.css">
   <!-- ANIMATE.CSS-->
   <link rel="stylesheet" href="static/vendor/animate.css/animate.min.css">
   <!-- WHIRL (spinners)-->
   <link rel="stylesheet" href="static/vendor/whirl/dist/whirl.css">
   <!-- =============== PAGE VENDOR STYLES ===============-->
   <!-- DATATABLES-->
   <link rel="stylesheet" href="static/vendor/datatables-colvis/css/dataTables.colVis.css">
   <link rel="stylesheet" href="static/vendor/datatables/media/css/dataTables.bootstrap.css">
   <link rel="stylesheet" href="static/vendor/dataTables.fontAwesome/index.css">
   <!-- XEDITABLE-->
   <link rel="stylesheet" href="static/vendor/x-editable/dist/bootstrap3-editable/css/bootstrap-editable.css">
   <!-- WEATHER ICONS-->
   <link rel="stylesheet" href="static/vendor/weather-icons/css/weather-icons.min.css">
   <!-- DATETIMEPICKER-->
   <link rel="stylesheet" href="static/vendor/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css">
   <!-- SELECT2-->
   <link rel="stylesheet" href="static/vendor/select2/dist/css/select2.css">
   <link rel="stylesheet" href="static/vendor/select2-bootstrap-theme/dist/select2-bootstrap.css">
   <!-- Loaders.css-->
   <link rel="stylesheet" href="static/vendor/loaders.css/loaders.css">
   <!-- Spinkit-->
   <link rel="stylesheet" href="static/vendor/spinkit/css/spinkit.css">
   <!-- SWEET ALERT-->
   <link rel="stylesheet" href="static/vendor/sweetalert/dist/sweetalert.css">
   <!-- =============== BOOTSTRAP STYLES ===============-->
   <link rel="stylesheet" href="static/css/bootstrap.css" id="bscss">
   <!-- =============== APP STYLES ===============-->
   <link rel="stylesheet" href="static/css/nprogress.css">
   <link rel="stylesheet" href="static/css/icons.css">
   <link rel="stylesheet" href="static/css/app.css" id="maincss">
   <link rel="stylesheet" href="static/css/style.css" id="stylecss">
   

	<script language="JavaScript" type="text/javascript" src="static/js/md5.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/jsbn.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/jsbn2.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/rsa.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/rsa2.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/sha1.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/sha256.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/base64.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/rsapem-1.1.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/rsasign-1.2.min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/asn1hex-1.1.min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/send_to_net.js"></script>
	
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ext/prng4-min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ext/jsbn-min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ext/jsbn2-min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ext/ec-min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ext/rng-min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ecparam-1.0.min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ext/cj/cryptojs-312-core-fix-min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ext/cj/x64-core_min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ext/cj/md5_min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ext/cj/aes.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ext/cj/sha1_min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ext/cj/sha256_min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ext/yahoo-min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ext/ec-patch-min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/crypto-1.1.min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/asn1-1.0.min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/asn1hex-1.1.min.js"></script>
	<script language="JavaScript" type="text/javascript" src="static/js/crypto/ecdsa-modified-1.0.min.js"></script>
	
   <!-- =============== VENDOR SCRIPTS ===============-->
   <!-- MODERNIZR-->
   <script src="static/vendor/modernizr/modernizr.custom.js"></script>
   <!-- MATCHMEDIA POLYFILL-->
   <script src="static/vendor/matchMedia/matchMedia.js"></script>
   <!-- JQUERY-->
   <script src="static/vendor/jquery/dist/jquery.js"></script>
   <!-- BOOTSTRAP-->
   <script src="static/vendor/bootstrap/dist/js/bootstrap.js"></script>
   <!-- STORAGE API-->
   <script src="static/vendor/jQuery-Storage-API/jquery.storageapi.js"></script>
   <!-- JQUERY EASING-->
   <script src="static/vendor/jquery.easing/js/jquery.easing.js"></script>
   <!-- ANIMO-->
   <script src="static/vendor/animo.js/animo.js"></script>
   <!-- SLIMSCROLL-->
   <script src="static/vendor/slimScroll/jquery.slimscroll.min.js"></script>
   <!-- SCREENFULL-->
   <script src="static/vendor/screenfull/dist/screenfull.js"></script>
   <!-- LOCALIZE-->
   <script src="static/vendor/jquery-localize-i18n/dist/jquery.localize.js"></script>
   <!-- RTL demo-->
   <script src="static/js/demo/demo-rtl.js"></script>
   <!-- =============== PAGE VENDOR SCRIPTS ===============-->
   <!-- SPARKLINE-->
   <script src="static/vendor/sparkline/index.js"></script>
   <!-- FLOT CHART-->
   <script src="static/vendor/Flot/jquery.flot.js"></script>
   <script src="static/vendor/flot.tooltip/js/jquery.flot.tooltip.min.js"></script>
   <script src="static/vendor/Flot/jquery.flot.resize.js"></script>
   <script src="static/vendor/Flot/jquery.flot.pie.js"></script>
   <script src="static/vendor/Flot/jquery.flot.time.js"></script>
   <script src="static/vendor/Flot/jquery.flot.categories.js"></script>
   <script src="static/vendor/flot-spline/js/jquery.flot.spline.min.js"></script>
   <!-- CLASSY LOADER-->
   <script src="static/vendor/jquery-classyloader/js/jquery.classyloader.min.js"></script>
   <!-- MOMENT JS-->
   <script src="static/vendor/moment/min/moment-with-locales.min.js"></script>
   <!-- DATATABLES-->
   <script src="static/vendor/datatables/media/js/jquery.dataTables.min.js"></script>
   <script src="static/vendor/datatables-colvis/js/dataTables.colVis.js"></script>
   <script src="static/vendor/datatables/media/js/dataTables.bootstrap.js"></script>
   <script src="static/js/datetime.js"></script>
   <!-- XEDITABLE-->
   <script src="static/vendor/x-editable/dist/bootstrap3-editable/js/bootstrap-editable.min.js"></script>
   <!-- DATETIMEPICKER-->
   <script type="text/javascript" src="static/vendor/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
   <!-- FILESTYLE-->
   <script src="static/vendor/bootstrap-filestyle/src/bootstrap-filestyle.js"></script>
   <!-- SELECT2-->
   <script src="static/vendor/select2/dist/js/select2.js"></script>
   <!-- GOOGLE MAPS-->
   <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
   <script src="static/vendor/jQuery-gMap/jquery.gmap.min.js"></script>
   <!-- SWEET ALERT-->
   <script src="static/vendor/sweetalert/dist/sweetalert.min.js"></script>
   <!-- Clipboard-->
   <script src="static/js/clipboard.js"></script>
   <script src="static/js/nprogress.js"></script>
   <script src="static/js/spin.js"></script>
   
   <script>
		$( document ).ready(function() {
			{{if not .DbOk}}
				NProgressStart.set(1);
				$("#dl_content").load("content", function(response, status) {
					if ( status == "error" ) { window.location.href = "index"; }
					$("#loading_db").css("display", "none");
				})
			{{else if .Key}}
				//$("#loader").spin();
				NProgressStart.set(1);
				$("#dl_content").load( "content", { {{if .SetLang}}"parameters": {"lang":{{.SetLang}} }{{end}} }, function() {
					$("#key").text("{{.Key}}");
					doSign('login');
					//$('#loader').spin(false);
				})
				load_menu({{if .SetLang}}{{.SetLang}}{{end}});
			{{else}}
				//$("#loader").spin();
				NProgressStart.set(1);
				$("#dl_content").load( "content", function() {
					//$("#loader").spin(false);
					load_menu();
				});
			{{end}}
		});
	</script>
	
	<style>
		.btn-demo {
			display:block;
			width:164px;
			padding-left:0px;
			padding-right:0px;
			margin-left:24px;
		}
		.aside-collapsed .btn-demo {
			width:50px;
			margin-left:6px;
		}
		.btn-demo em {
			position:relative;
			top:-1px;
			display:inline-block;
			font-style:normal;
			padding-left:10px;
		}
		.aside-collapsed .btn-demo em {
			display:none;
		}
		.btn-demo .fa {
			font-size:1.5em;
		}
		.aside-collapsed .btn-demo .fa {
			font-size:2em;
		}
	</style>
</head>

<body class="layout-fixed">
   <div class="wrapper">
      <!-- Main section-->
	  <div id="dl_menu">
	  </div>
      <section>
         <!-- Page content-->
         <div id="dl_content" class="content-wrapper"></div>
      </section>
   </div>
   <div id="dl_modal"></div>
   <div id="loader"></div>
   <div style="display: none;">
		<div id="key">key</div>
		<div id="password">password</div>
		<img  id="image_key" alt="" />
		<canvas  id="canvas_key"></canvas>
	</div>

	<script>
		(function ($) {
			$.fn.spin = function (opts, color) {
				var presets = {
					"tiny": {
						lines: 8,
						length: 2,
						width: 2,
						radius: 3
					},
					"small": {
						lines: 8,
						length: 4,
						width: 3,
						radius: 5
					},
					"large": {
						lines: 10,
						length: 8,
						width: 4,
						radius: 8
					}
				};
				if (Spinner) {
					return this.each(function () {
						var $this = $(this),
								data = $this.data();
	
						if (data.spinner) {
							data.spinner.stop();
							delete data.spinner;
						}
						if (opts !== false) {
							if (typeof opts === "string") {
								if (opts in presets) {
									opts = presets[opts];
								} else {
									opts = {};
								}
								if (color) {
									opts.color = color;
								}
							}
							data.spinner = new Spinner($.extend({
								color: $this.css('color')
							}, opts)).spin(this);
						}
					});
				} else {
					throw "Spinner class not available.";
				}
			};
		})(jQuery);
		
		$( document ).ready(function() {
			//$( "#dl_content" ).load( "content?controllerName=updating_blockchain", { }, function() {});
/*			$( "#dl_menu" ).load( "content?controllerHTML=menu", { }, function() {
				$( "#dl_content" ).load( "content?controllerHTML=dashboard_anonym", { }, function() {});
			});*/
		});
	</script>
	
   <!-- =============== APP SCRIPTS ===============-->
   <script src="static/js/app.js"></script>
   <script src="static/js/index.js"></script>
   
   <script language="JavaScript" type="text/javascript">
		function Generate_key() {
			var key = "";
			var hex = "0123456789abcdef";
	
			for (i = 0; i < 64; i++) {
				key += hex.charAt(Math.floor(Math.random() * 16));
			}
			return key;
		}
		//console.log(iv.toString())
	
		function  doSign(type){
			doSign_(type);
		}
	</script>
   
	<script type="text/javascript" >
		var lastLinkEvent;
		function dlNavHash(e) {
			if (lastLinkEvent!=location.hash) {
				dlNav({'target': {'hash': location.hash}});
			}
		}
	
		function dlNav(e){
			if (e.buttons==3 || e.buttons==2 || e.buttons==4) {
				return
			}
			if (typeof e.target.hash=='undefined') {
				window.addEventListener("hashchange", dlNavHash);
				return false;
			}
	
			lastLinkEvent = e.target.hash;
	
			var str = e.target.hash;
			var page_match = str.match(/#(\w+)/i);
			if (page_match && typeof page_match[1]!='undefined' && page_match[1]!='tab1' && page_match[1]!='tab2' && page_match[1]!='tab3' && page_match[1]!='myModal' && page_match[1]!='user-block' && page_match[1]!='da' && page_match[1]!='dc' && page_match[1]!='dco' && page_match[1]!='dh' && page_match[1]!='dhp' && page_match[1]!='dg' && page_match[1]!='dgc' && page_match[1]!='dcb'  ) {
			
				var page = page_match[1];
				var param_match = str.match(/\/\w+=\w+/gi);
				var param_obj = {};
				if (param_match) {
					for (var i = 0; i < param_match.length; i++) {
						var param = param_match[i].match(/(\w+)=(\w+)/i);
						param_obj[param[1]] = param[2];
					}
				}
				
				dl_navigate(page, param_obj);
			}
		}
	
		void function whichClickClosure( $ ){
			var events     = {
						1 : 'leftclick',
						2 : 'middleclick',
						3 : 'rightclick'
					},
			// List of interruption events for symbolic linking between custom and native events
					interrupts = [
						'preventDefault',
						'stopPropagation',
						'stopImmediatePropagation'
					],
			// A dummy empty event, used in custom interruption
					emptyEvent = $.Event();
	
			function makeInterrupts( customEvent, ensuingEvent ){
				var output = {};
	
				$.each( interrupts, function makeCustomInterrupt( index, method ){
					output[ method ] = function customInterrupt(){
						emptyEvent[ method ].call( this );
	
						$( customEvent.target ).one( ensuingEvent, function defferedInterrupt( ensuingEvent ){
							ensuingEvent[ method ]();
						} );
					};
				} );
	
				return output;
			}
	
			// We need to capture all mousedowns
			$( document ).on( 'mousedown', function mousedownFilter( mousedown ){
				// Determine which event we're listening for
				var eventType = events[ mousedown.which ];
	
				// Discard anything we can't map
				if( !eventType ){
					return;
				}
	
				$( document ).one( 'mouseup', function mouseupFilter( mouseup ){
					// The custom click event we'll fire
					var eventObject  = {},
					// The ensuing native event the event symbolizes
							ensuingEvent = '';
	
					// Only capture events on the same element
					if( mousedown.target !== mouseup.target ){
						return;
					}
	
					// Middleclicks only trigger on links
					if( eventType === 'middleclick' && $( mouseup.target ).is( 'a' ) ){
						return;
					}
	
					if( eventType === 'middleclick' || eventType === 'leftclick' ){
						ensuingEvent = 'click';
					}
	
					// Rightclicks also fire off contextmenu
					if( eventType === 'rightclick' ){
						ensuingEvent = 'contextmenu';
					}
	
					// Extend the eventObject
					$.extend(
							// Including all the deeper stuff
							true,
							// ...
							eventObject,
							// Take all the properties of mouseup...
							mouseup,
							// With our type and timestamp...
							$.Event( eventType )
					);
	
					// Add custom interrupts
					$.extend(
							true,
							eventObject,
							makeInterrupts( eventObject, ensuingEvent )
					);
	
					$( mouseup.target )
						// Fire this event on the target
							.trigger( eventObject )
						// Also fire an 'anyclick' event (with all the same internals) for convenience
							.trigger( $.extend( eventObject, { type : 'anyclick' } ) );
				} );
			} );
		}( jQuery );
	
		$( document ).on( 'leftclick', function( e ){
			dlNav(e);
		} );
	
		window.addEventListener("hashchange", dlNavHash);


		function dl_navigate0 (page, parameters) {

			var json = JSON.stringify(parameters);

			//$('#loader').spin();
			NProgress.set(1.0);
			$.post("content?page="+page, { tpl_name: page, parameters: json },
					function(data) {
						//$("#loader").spin(false);
						$(".sweet-overlay, .sweet-alert").remove();
						//console.log('$("#loader").spin(false)');
						$('#dl_content').html( data );
						if ( parameters && parameters.hasOwnProperty("lang")) {
							if ( page[0] == 'E' )
								load_emenu();
							else
								load_menu();
						}
						window.scrollTo(0,0);
						if ($(".sidebar-collapse").is(":visible") && $(".navbar-toggle").is(":visible")) {
							$('.sidebar-collapse').collapse('toggle');
						}
					}, "html");

		}
	</script>
</body>

</html>