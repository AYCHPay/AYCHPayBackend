<style>
	#nodata {
		display:none;
		border:0px;
		margin-bottom:0px;
	}
	#history {
		display:none;
	}
	.dataTables_length, .dataTables_info {
		padding-left:15px;
	}
	.dataTables_filter, .dataTables_paginate {
		padding-right:15px;
	}
	.dataTables_length, .dataTables_filter {
		padding-top:15px;
	}
</style>

<script>
	$(".aside .nav li").removeClass("active");
	$(".anonym, .anonym_history").addClass("active");
	
	/*$('#anonym_history').dataTable({
        paging:   true,
        ordering: false,
		searching: false,
//		"order": 	[[ 0, "desc" ]],
        info:     true,
		"processing": true,
        "serverSide": true,
		"ajax": "ajax?json=ajax_history",
        "columns": [
          { "data": 'block_id' },
          { "data": 'time' },
          { "data": 'amount' },
          { "data": 'sender_address' },
          { "data": 'recipient_address' },
          { "data": 'comment' },
          { "data": 'confirm' }
        ],
		columnDefs: [{
			targets: 1,
			render: $.fn.dataTable.render.moment('X', 'D MMMM YYYY, hh:mm', 'en')
		}]
    });*/
	
	$.ajax({
		type: 'POST',
		url: 'ajax?json=ajax_history',
		dataType: 'json',
		crossDomain: true,
		success: function(data) {
			if (!data.length) {
				$('#nodata').show();
			} else {
				$('#history').show().dataTable({
					paging:   false,
					ordering: false,
					searching: false,
					order: 	[[ 0, "desc" ]],
					info:     false,
					"processing": true,
					"serverSide": true,
					"ajax": "ajax?json=ajax_history",
					"columns": [
					  { "data": 'block_id' },
					  { "data": 'time' },
					  { "data": 'amount' },
					  { "data": 'sender_address' },
					  { "data": 'recipient_address' },
					  { "data": 'comment' },
					  { "data": 'confirm' }
					],
					columnDefs: [{
						targets: 1,
						render: $.fn.dataTable.render.moment('X', 'D MMMM YYYY, hh:mm', 'en')
					}]
				});
			}
		},
		error: function(xhr, status, error) {
			Alert("Error", error, "error");
		}
	});
</script>

<div class="content-heading">
   Transactions History
</div>
<ol class="breadcrumb">
   <li><a href="#" onclick="dl_navigate0('dashboardAnonym')">Dashboard</a></li>
   <li class="active">History</li>
</ol>

<!-- START panel-->
<div class="panel panel-default">
 <div class="panel-body">
	<div id="nodata" class="box-placeholder text-center">No data available</div>
	<div class="table-responsive">
	   <table id="history" class="table table-striped table-hover">
		  <thead>
			 <tr>
				<th>Block ID</th>
				<th >Time</th>
				<th >Amount</th>
				<th >Sender</th>
				<th >Recipient</th>
				<th >Comment</th>
				<th >Confirmations</th>
			 </tr>
		  </thead>
		  <tbody>
		</tbody>
	   </table>
	</div>
 </div>
</div>
<!-- END panel-->